var yt=Object.defineProperty;var St=(t,e,n)=>e in t?yt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var y=(t,e,n)=>(St(t,typeof e!="symbol"?e+"":e,n),n);import{m as J,L as Z,b as p,z as E,A as P,w,d as g,M as I,N as $,O as L,C as M,B as _,u as X,a as j,P as K,h as Et}from"./links.C7Z9vJvv.js";import{a1 as G}from"./vue.esm-bundler.CWQFYt9y.js";import{d as F}from"./Caret.iRBf3wcH.js";import{s as tt}from"./metabox.DB93Mij9.js";import{c as q}from"./cleanForSlug.DjSHNZs8.js";import{g as S}from"./get.QVQdoK-Q.js";import{B as ht}from"./helpers.DkJd815A.js";const Pt=t=>{var n;if(typeof(window==null?void 0:window.acf)!="object"||typeof((n=window.acf)==null?void 0:n.getField)!="function")return null;const e=window.acf.getField(t)||{};return typeof(e==null?void 0:e.val)!="function"?null:e.val()||{}},vt=()=>{const t=window.elementor.documents.getCurrent(),e=[];return t.$element?(t.$element.find(".elementor-widget-container").each((n,o)=>{const r=o.innerHTML.trim().replaceAll(/<p.*>(<img.*>)<\/p>/g,"$1");J(r)===""&&Z(r).length===0||e.push(r)}),e.join(" ")):""},N=()=>{var n;const{settings:t,config:e}=window.elementor;return{content:vt(),title:t.page.model.get("post_title"),excerpt:t.page.model.get("post_excerpt")||"",slug:q(t.page.model.get("post_title")),permalink:e.document.urls.permalink||"",featuredImage:((n=t.page.model.get("post_featured_image"))==null?void 0:n.url)||""}},Tt=()=>{const t=S(ET_Builder,"Frames.app.frameElement",document.querySelector("iframe#et-fb-app-frame"));if(!t)return document.createElement("div");let e=t.contentWindow.document.querySelectorAll("#et-fb-app");return 1<e.length&&(e=[...e].filter(n=>n.classList.contains("et-fb-root-ancestor"))),e[0]||document.createElement("div")},kt=()=>{const t=[],e=Tt().querySelectorAll(".et_pb_section"),n=new RegExp(["<style.*?</style>","\\[object Object\\]"].join("|"),"gi");for(const o of e){const r=o.innerHTML.replace(n,"").replaceAll(/<p.*>(<img.*>)<\/p>/g,"$1");J(r)===""&&Z(r).length===0||t.push(r)}return t.join(" ")},xt=()=>{const t=new URL(S(ETBuilderBackendDynamic,"currentPage.permalink",""));return t.searchParams.delete("PageSpeed"),t.href},B=()=>({content:kt(),title:S(ETBuilderBackendDynamic,"postTitle",""),excerpt:S(ETBuilderBackendDynamic,"postMeta.post_excerpt",""),slug:S(ETBuilderBackendDynamic,"postMeta.post_name",""),permalink:xt(),featuredImage:S(ETBuilderBackendDynamic,"currentPage.thumbnailUrl","")}),bt=t=>{let e;switch(t.type){case"header":e=document.createElement(t.settings.tag),e.innerHTML=t.settings.headerTxt.trim();break;case"image":const n=document.createElement("img");t.settings.altTxt&&n.setAttribute("alt",t.settings.altTxt),t.settings.src&&n.setAttribute("src",t.settings.src),t.settings.noFollow&&n.setAttribute("rel","nofollow"),e=n,t.settings.link&&(e=document.createElement("a"),e.setAttribute("href",t.settings.link),e.innerHTML=n.outerHTML,t.settings.noFollow&&e.setAttribute("rel","nofollow"),t.settings.openNewWindow&&e.setAttribute("target","_blank"));break;case"video":t.settings.type==="youtube"?(e=document.createElement("iframe"),e.setAttribute("src",t.settings.youtubeUrl)):(e=document.createElement("div"),e.innerHTML=t.settings.code);break;case"text":e=document.createElement("div"),e.innerHTML=t.settings.txt.trim();break;case"button":e=document.createElement("a"),e.appendChild(document.createTextNode(t.settings.btnTxt+" "+t.settings.btnSubTxt)),t.settings.link&&e.setAttribute("href",t.settings.link),t.settings.altTxt&&e.setAttribute("alt",t.settings.altTxt),t.settings.src&&e.setAttribute("src",t.settings.src),t.settings.noFollow&&e.setAttribute("rel","nofollow"),t.settings.openNewWindow&&e.setAttribute("target","_blank");break;case"bullet-list":e=document.createElement("ul"),t.settings.items.forEach(o=>{const r=document.createElement("li");r.innerHTML=o.txt,e.appendChild(r)});break;case"custom-html":e=document.createElement("div"),e.innerHTML=t.settings.code;break}return e},Ct=()=>{const t=[];return JSON.parse(JSON.stringify(S(seedprod_data,"settings.document.sections",[]))).forEach(n=>{n.rows.forEach(o=>{o.cols.forEach(r=>{r.blocks.forEach(a=>{const s=bt(a);s&&(J(s)===""&&Z(s).length===0||t.push(s.outerHTML))})})})}),t.join(" ")},At=()=>{const t=S(seedprod_data,"home_url",""),e=S(seedprod_data,"settings.post_name","");return`${t}/${e}/`},D=()=>({content:Ct(),title:S(seedprod_data,"settings.post_title",""),excerpt:"",slug:S(seedprod_data,"settings.post_name",""),permalink:At()}),_t=()=>p().currentPost.processedContent,qt=t=>{var e;if(t==="admin_frontend_editor"){const{vc:n}=window;return n.builder.getTitle()}return((e=document.getElementById("#title"))==null?void 0:e.value)||""},It=t=>{var e;if(t==="admin_frontend_editor"){const{vc_iframe_src:n}=window,o=new URL(n).pathname.split("/").filter(r=>r);return o[o.length-1]}return((e=document.querySelector("#post_name"))==null?void 0:e.value)||""},$t=t=>{var e;if(t==="admin_frontend_editor"){const{vc_iframe_src:n}=window;return n.replace(new URL(n).search,"")}return((e=document.querySelector("#sample-permalink a"))==null?void 0:e.href)||""},R=()=>{const{vc_mode:t}=window;return{content:_t(),title:qt(t),excerpt:"",slug:It(t),permalink:$t(t),featuredImage:""}},Lt=()=>{var e;return((e=p().currentPost)==null?void 0:e.processedContent)||""},Mt=()=>{var e;const{FusionApp:t}=window;return(t==null?void 0:t.getPost("post_title"))||((e=document.getElementById("#title"))==null?void 0:e.value)||""},Nt=()=>{var e;const{FusionApp:t}=window;return(t==null?void 0:t.getPost("post_name"))||((e=document.querySelector("#post_name"))==null?void 0:e.value)||""},Bt=()=>{var e;const{FusionApp:t}=window;return(t==null?void 0:t.getPost("post_permalink").replace("?fb-edit=1",""))||((e=document.querySelector("#sample-permalink a"))==null?void 0:e.href)||""},U=()=>({content:Lt(),title:Mt(),excerpt:"",slug:Nt(),permalink:Bt(),featuredImage:""}),et=()=>{let t="";switch(!0){case _():t=N().permalink;break;case M():t=B().permalink;break;case L():t=D().permalink;break;case $():t=R().permalink;break;case I():t=U().permalink;break}return t},Dt=()=>{const t=g();if(t.liveTags.permalink)return t.liveTags.permalink;let e;if(E()||P){const n=document.querySelector("#edit-slug-box a");n&&n.href&&(e=n.href)}return w()&&(e=window.wp.data.select("core/editor").getPermalink()),e||(e=et()),e&&t.updatePermalink(e),e},x=()=>{let t;if(E()||P){const e=document.querySelector("#edit-slug-box a");e&&e.href&&(t=e.href)}return w()&&(t=window.wp.data.select("core/editor").getPermalink()),t||(t=et()),t},Rt=async(t=!0)=>{let e=Dt();const n=x();if(e!==n&&(e=n,e)){const o=p();if(g().updatePermalink(e),!t)return;new v().runAnalysis({postId:o.currentPost.id,postData:{...o.currentPost},content:k(),slug:x()})}},nt=()=>{let t="";switch(!0){case _():t=N().title;break;case M():t=B().title;break;case L():t=D().title;break;case $():t=R().title;break;case I():t=U().title;break}return t},Ut=()=>{const t=g();if(t.liveTags.post_title)return t.liveTags.post_title;let e;if(E()||P()){const n=document.querySelector("#post input#title");e=n?n.value:""}return w()&&(e=window.wp.data.select("core/editor").getCurrentPost().title),e||(e=nt()),e&&t.updatePostTitle(e),e},ot=()=>{let t;if(E()||P()){const e=document.querySelector("#post input#title");t=e?e.value:""}return w()&&(t=window.wp.data.select("core/editor").getEditedPostAttribute("title")),t||(t=nt()),t},Ht=async(t=!0)=>{let e=Ut();const n=ot();if(e!==n){e=n;const o=p();if(g().updatePostTitle(e),!t)return;new v().runAnalysis({postId:o.currentPost.id,postData:{...o.currentPost},content:k(),slug:x()})}},rt=t=>{if(!t)return"";const e=[/\[.*?\]/g,/<\/?[a-z][^>]*?>/gi,/<!--[\s\S]*?-->/g,/(\r\n|\n|\r)/g];return t=t.replaceAll(/\n\n/g," "),e.forEach(n=>{t=t.replace(n,"")}),t.trim()},st=()=>{let t="";switch(!0){case _():t=N().excerpt;break;case M():t=B().excerpt;break;case L():t=D().excerpt;break;case $():t=R().excerpt;break;case I():t=U().excerpt;break}return t},Ot=()=>{const t=g();if(t.liveTags.post_excerpt)return t.liveTags.post_excerpt;let e;return(E()||P())&&(e=at()),w()&&(e=window.wp.data.select("core/editor").getCurrentPost().excerpt),e||(e=st()),e||(e=rt(mt())),e&&t.updatePostExcerpt(e),e},zt=()=>{let t;return(E()||P())&&(t=at()),w()&&(t=window.wp.data.select("core/editor").getEditedPostAttribute("excerpt")),t||(t=st()),t||(t=rt(k())),t},Wt=async(t=!0)=>{let e=Ot();const n=zt();if(e!==n){e=n;const o=p();if(g().updatePostExcerpt(e),!t)return;new v().runAnalysis({postId:o.currentPost.id,postData:{...o.currentPost},content:k(),slug:x()})}},at=()=>{let t="";const e=document.querySelector("#postexcerpt textarea#excerpt");if(t=e?e.value:"",document.querySelector("#wp-excerpt-wrap.tmce-active")){const n=window.tinyMCE?window.tinyMCE.get("excerpt"):"";n&&(t=n.getContent({format:"raw"}))}return t};let f="",T="";const jt=(t=!0)=>{var o;const e=g();if(E()||P()){const r=document.querySelectorAll('#post input[name="post_category[]"]:checked');r.length?(f!==r[0].parentNode.innerText&&(f=r[0].parentNode.innerText,e.updateTaxonomyTitle(f)),T=Array.from(r).map(a=>a.parentNode.innerText).join(", "),e.updateCategories(T)):f!==""&&(f=T="",e.updateTaxonomyTitle(f),e.updateCategories(T))}if(w()){let r=[],a=[];if((o=X().aioseo.user.data.allcaps)!=null&&o.manageCategories&&(r=window.wp.data.select("core").getEntityRecords("taxonomy","category"),a=window.wp.data.select("core/editor").getEditedPostAttribute("categories")),a&&a.length&&r){const l=r.find(i=>i.id===a[0]);l&&f!==l.name&&(f=l.name,e.updateTaxonomyTitle(f)),T=r.filter(i=>a.includes(i.id)).map(i=>i.name).join(", "),e.updateCategories(T)}else f!==""&&(f=T="",e.updateTaxonomyTitle(f),e.updateCategories(T))}const n=p();t&&new v().runAnalysis({postId:n.currentPost.id})},Vt=(t=!1)=>{const e=p();if(e.currentPost.context!=="term")return;const n=g(),o=document.querySelector("#edittag input#name");o&&(n.updateTaxonomyTitle(o.value),o.addEventListener("input",()=>{n.updateTaxonomyTitle(o.value)}));const r=document.querySelector("#edittag textarea#description");r&&(n.updateTaxonomyDescription(r.value),r.addEventListener("input",()=>{n.updateTaxonomyDescription(r.value)}));const a=document.querySelector("#edittag input#slug");if(a){const s=q(a.value);n.updatePermalinkSlug(s),n.updatePermalink(e.currentPost.permalink.replace(`/${n.permalinkSlug}`,`/${s.replace(/ /gi,"-").replace(/[^a-z0-9-]/gi,"").toLowerCase()}`)),a.addEventListener("input",()=>{n.updatePermalinkSlug(s),n.updatePermalink(e.currentPost.permalink.replace(`/${n.permalinkSlug}`,`/${s.replace(/ /gi,"-").replace(/[^a-z0-9-]/gi,"").toLowerCase()}`))})}e.savePostState(),t&&v.runAnalysis({postId:e.currentPost.id})},Gt=(t=!1)=>{const e=p();if(e.currentPost.postType!=="attachment")return;const n=g(),o=document.querySelector("textarea#attachment_caption");o&&(n.updateAttachmentCaption(o.value),o.addEventListener("input",i=>{n.updateAttachmentCaption(i.target.value)}));const r=document.querySelector("textarea#attachment-details-caption");r&&(n.updateAttachmentCaption(r.value),r.addEventListener("input",i=>{n.updateAttachmentCaption(i.target.value)}));const a=document.querySelector("textarea#attachment_content");a&&(n.updateAttachmentDescription(a.value),a.addEventListener("input",i=>{n.updateAttachmentDescription(i.target.value)}));const s=document.querySelector("input#attachment_alt");s&&(n.updateAltTag(s.value),s.addEventListener("input",i=>{n.updateAltTag(i.target.value)}));const l=document.querySelector("input#attachment-details-alt-text");l&&(n.updateAltTag(s.value),l.addEventListener("input",i=>{n.updateAltTag(i.target.value)})),t&&new v().runAnalysis({postId:e.currentPost.id})},Jt=()=>{var n,o;const t=p();return(n=t.currentPost)!=null&&n.id?((o=j().options.advanced)==null?void 0:o.truSeo)&&!t.currentPost.isSpecialPage&&t.currentPost.postType!=="attachment"&&tt():!1},Zt=()=>{var o,r;const t=X();if(!((o=t.aioseo.screen)!=null&&o.postType))return!1;const e=p();return!!((r=j().options.advanced)!=null&&r.truSeo&&tt(t.aioseo.screen.postType)&&!e.currentPost.isStaticPostsPage)},A=async(t=900,e=!0)=>{F(async()=>{await Ht(!1),await Qt(!1),await Wt(!1),await te(!1),await Rt(!1),jt(!1),Vt(!1),Gt(!1);const n=p();e&&new v().runAnalysis({postId:n.currentPost.id})},t)},le=t=>{const e=t.getRangeAt(0),n=e.cloneRange();return n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.startContainer,e.startOffset),t},ue=t=>{const e=new RegExp("Â ","g");return t.replace(/&nbsp;/g," ").replace(e," ")},de=({element:t,property:e,value:n})=>{if(!t)return document.documentElement;let o=t.parentElement;for(;o;){if(o.isEqualNode(document.documentElement)||n===document.defaultView.getComputedStyle(o).getPropertyValue(e))return o;o=o.parentElement}},pe=()=>{const t=document.createElement("div");return t.classList.add("tru-seo-highlight-popover-wrapper"),t.style.position="absolute",t.style.zIndex="999",t.style.display="flex",t.setAttribute("tabindex",-1),t},it=()=>{const e=p().currentPost.postType;if(!e)return"";const o=j().dynamicOptions.searchAppearance.postTypes[e].customFields;if(!o||!Jt)return"";const r=()=>{A(500)},a=o.replace(/\n/g,",").split(","),s=[],l=["INPUT","TEXTAREA","IMG"],i=u=>{try{document.createDocumentFragment().querySelector(u)}catch{return!1}return!0};a.forEach(u=>{u=u.trim();const m=i(`#${u}`)?document.querySelector(`#${u}`):!1,b=document.querySelectorAll("#the-list > tr"),H=document.querySelectorAll(".acf-field");l.includes(m==null?void 0:m.tagName)&&!(m!=null&&m.closest(".acf-field"))?s.push(m):b.forEach(d=>{const c=d.querySelector(`#${d.id}-key`),C=d.querySelector(`#${d.id}-value`);l.includes(C==null?void 0:C.tagName)&&a.includes(c==null?void 0:c.value)&&s.push(C)}),H.forEach(d=>{if(u!==d.dataset.name)return"";let c=d.querySelector(`[id^="acf"][name$="[${d.dataset.key}]"]`);if(d.dataset.type==="image"&&(c=d.querySelector(".has-value img")),d.dataset.type==="gallery"&&(c=d.querySelector(".acf-gallery-attachment img")),d.dataset.type==="link"&&(c=Pt(d.dataset.key)||d.querySelector(`[name$="[${d.dataset.key}][url]"]`)||{},c={tagName:"INPUT",type:"url",value:(c==null?void 0:c.url)??(c==null?void 0:c.value)??""}),!c||c.type&&c.type==="hidden")return"";if(d.dataset.type==="wysiwyg"){const C=window.setInterval(()=>{var O,z;(z=(O=window.tinyMCE)==null?void 0:O.activeEditor)!=null&&z.acf&&(window.clearInterval(C),window.tinyMCE.activeEditor.on("keyup",function(){A(500)}),window.tinyMCE.activeEditor.on("PostProcess",function(){F(()=>{A(500)},10)}))},50),ft=function(O){O.forEach(z=>{var Y;if(z.attributeName==="class"&&d.querySelector(".wp-editor-wrap.tmce-active")&&((Y=window.tinyMCE)!=null&&Y.activeEditor)){window.tinyMCE.activeEditor.on("keyup",function(){A(500)});const V=d.querySelector(`[name="acf[${d.dataset.key}]"]`);V&&(V.addEventListener("keyup",()=>{A(500)}),V.addEventListener("paste",()=>{A(500)}))}})},wt=new MutationObserver(ft),Q=d.querySelector(".wp-editor-wrap");Q&&wt.observe(Q,{attributes:!0})}l.includes(c.tagName)&&s.push(c)})});let h="";return s.forEach(u=>{let m="";if(l.includes(u.tagName)&&typeof(u==null?void 0:u.addEventListener)=="function"&&u.addEventListener("keyup",r),u.value&&(m=u.value),u.tagName==="IMG"&&u.src){const b=u.alt?`alt="${u.alt}"`:"";m=`<img src="${u.src}" ${b}>`}u.value&&u.type&&u.type==="url"&&(m=`<a href="${m}">${m}</a>`),m&&(h+=`${m} `)}),h},me=(t,e=["INPUT","TEXTAREA","IMG"])=>{if(!t)return"";const n=document.querySelector(`#${t}`),o=document.querySelectorAll("#the-list > tr"),r=document.querySelectorAll(".acf-field");let a="";return n&&e.indexOf(n.tagName)!==-1&&(n.closest(".acf-field")||(a=n.tagName==="IMG"?n.getAttribute("src"):n.value)),o.length&&o.forEach(s=>{const l=s.querySelector(`#${s.id}-key`),i=s.querySelector(`#${s.id}-value`);i&&e.indexOf(i.tagName)!==-1&&l.value===t&&(a=i.tagName==="IMG"?i.getAttribute("src"):i.value)}),r.length&&r.forEach(s=>{if(t!==s.dataset.name)return;let l;e.forEach(i=>{const h=i.toLowerCase();l=s.querySelector(`[data-key="${s.dataset.key}"] ${h}`)||l}),l&&(a=l.tagName==="IMG"?l.getAttribute("src"):l.value)}),a},Xt=t=>{const e=t.getBody();return 1<e.childNodes.length?!1:e.childNodes.length===0?!0:1<e.childNodes[0].childNodes.length?!1:/^\n?$/.test(e.innerText||e.textContent)},ct=/base64,(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)/g,lt=["acf","aioseo"],ut=()=>{let t="";switch(!0){case _():t=N().content;break;case M():t=B().content;break;case L():t=D().content;break;case $():t=R().content;break;case I():t=U().content;break}return t},dt=t=>{var o;if(!t.includes('<!-- wp:block {"ref":'))return t;const e=(o=window.wp.blocks)==null?void 0:o.rawHandler({HTML:t});return ht(e).forEach(r=>{var a,s,l;if(r.name==="core/block"){const i=window.wp.data.select("core").getEntityRecord("postType","wp_block",(a=r.attributes)==null?void 0:a.ref);(s=i==null?void 0:i.content)!=null&&s.raw&&(t=t.replace(`<!-- wp:block {"ref":${(l=r.attributes)==null?void 0:l.ref}} /-->`,i.content.raw))}}),t},pt=(t,e)=>(window.wp.data.select("core/block-editor").getBlocks().forEach(o=>{if(e.includes(o.name.split("/")[0])){const r=document.getElementById("block-"+o.clientId);if(r&&r.innerHTML){const a=`<!-- wp:${o.name}.*?-->`;t=t.replace(new RegExp(a),r.innerHTML)}}}),t),mt=()=>{const t=g();if(t.liveTags.post_content)return t.liveTags.post_content;let e="";if(E()&&!K())if(window.tinyMCE||document.querySelector("#wp-content-wrap.html-active"))e=W();else{const o=window.setInterval(()=>{window.tinyMCE&&(window.clearInterval(o),e=W())},50)}return w()&&(e=window.wp.data.select("core/editor").getCurrentPost().content||"",e=dt(e),e=pt(e,lt)),e||(e=ut()),p().currentPost.descriptionIncludeCustomFields&&(e=e+it()),e=e.replace(ct,""),e&&t.updatePostContent(e),e},k=()=>{let t="";if(E()&&!K())if(window.tinyMCE||document.querySelector("#wp-content-wrap.html-active"))t=W();else{const n=window.setInterval(()=>{window.tinyMCE&&(window.clearInterval(n),t=W())},50)}return w()&&(t=window.wp.data.select("core/editor").getEditedPostContent(),t=dt(t),t=pt(t,lt)),t||(t=ut()),p().currentPost.descriptionIncludeCustomFields&&(t=t+it()),t=t.replace(ct,""),t},Qt=async(t=!0)=>{let e=mt();const n=k();if(e!==n){e=n;const o=p();if(g().updatePostContent(e),!t)return;new v().runAnalysis({postId:o.currentPost.id,postData:{...o.currentPost},content:k(),slug:x()})}},W=()=>{let t;const e=window.tinyMCE?window.tinyMCE.get("content"):"";if(document.querySelector("#wp-content-wrap.tmce-active")&&e)t=e.getContent({format:Xt(e)?"html":"raw"});else{const n=document.querySelector("textarea#content");t=n?n.value:""}return t};function Yt(t){return new Worker(""+window.__aioseoDynamicImportPreload__("main-Dzur6sbQ.js"),{name:t==null?void 0:t.name})}class v{constructor(){y(this,"postId",null);y(this,"postTitle",null);y(this,"postParsedTitle",null);y(this,"postParsedDescription",null);y(this,"postDescription",null);y(this,"keyphrases",null);y(this,"postContent",null);y(this,"postSlug",null);y(this,"isAnalyzing",!1);y(this,"worker",null)}async runAnalysis({postId:e,postData:n,content:o=k(),slug:r=x()}){var d;const a=p(),s=j();if(n=n||{...a.currentPost},!((d=s.options.advanced)!=null&&d.truSeo)||!a.currentPost.page_analysis||this.isAnalyzing)return;this.worker&&this.worker.terminate();const l={separator:Et.decode(s.options.searchAppearance.global.separator)},i=X(),h=g(),u=h.tags.map(c=>h.liveTags[c.id]!==void 0&&c.value!==h.liveTags[c.id]?{...c,value:h.liveTags[c.id]}:c),m={...G(i.aioseo),tags:G(u),currentPost:G(a.currentPost)},b=JSON.parse(JSON.stringify({postId:e,postData:n,content:o,aioseo:m,slug:r,postEditedTitle:ot(),aioseoGlobals:l}));let H=[];this.worker=new Yt,this.worker.addEventListener("message",c=>{c.data.event==="tru-seo-analysis-complete"&&(H=c.data.analysis,this.dispatchActions(H,b),this.worker.terminate())}),this.worker.postMessage({event:"tru-seo-analysis",analysisData:b})}setSidebarButtonScore(e){const n=document.getElementById("aioseo-post-settings-sidebar-button"),o=document.getElementById("aioseo-post-score");!n||!o||(n.className=80<e?"score-green":50<e?"score-orange":"score-red",w()||(n.classList.add("aioseo-score-button","classic-editor"),e=`${e}/100`),o.textContent=e)}dispatchActions(e,n){const o=p();e.forEach(r=>{r.action==="updateState"&&o.currentPost.postType!=="attachment"&&Zt()&&n.postEditedTitle&&this.setSidebarButtonScore(r.data.seo_score),o[r.action](r.data)})}}const gt=()=>{let t="";switch(!0){case _():t=N().slug;break;case M():t=B().slug;break;case L():t=D().slug;break;case $():t=R().slug;break;case I():t=U().slug;break}return t},Kt=()=>{const t=g();if(t.permalinkSlug)return t.permalinkSlug;let e="";if(E()||P()){const n=document.querySelector("#post_name");n&&(e=q(n.value))}return w()&&(e=window.wp.data.select("core/editor").getCurrentPost().slug),e||(e=gt()),e&&t.updatePermalinkSlug(e),e},Ft=()=>{let t="";if(E()||P()){const e=document.querySelector("#post_name");e&&(t=q(e.value))}if(w()&&(t=window.wp.data.select("core/editor").getEditedPostAttribute("slug")),_()){const e=window.elementor.settings.page.model.get("post_title");e&&(t=q(e))}return t||(t=gt()),t},te=async(t=!0)=>{let e=Kt();const n=Ft();if(e!==n){e=n;const o=p();if(g().updatePermalinkSlug(e),!t)return;new v().runAnalysis({postId:o.currentPost.id,postData:{...o.currentPost},content:k(),slug:x()})}};export{v as T,B as a,k as b,me as c,jt as d,Vt as e,Gt as f,N as g,R as h,U as i,Ft as j,pe as k,de as l,A as m,ue as n,le as r,Zt as s,Jt as t};
